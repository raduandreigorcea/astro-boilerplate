---
import Icon from "./Icon.astro";

export interface Props {
    className?: string;
    href?: string;
    icon?: string;
}

const { className, href = "#", icon, ...props } = Astro.props;
---

<a href={href} class:list={[className]} {...props}>
    {icon && <Icon name={icon} />}
    <slot />
</a>

<style>
    svg {
        transition: inherit;
    }

    a {
        cursor: pointer;
        user-select: none;
        text-decoration: none;
        touch-action: manipulation;
        display: inline-flex;
        align-items: center;
        gap: var(--space-sm);
        position: relative;
        transition: var(--transition);
		color: inherit;
    }

    a::after {
        content: "";
        position: absolute;
        width: 100%;
        transform: scaleX(0);
        height: var(--space-2px);
        bottom: 0;
        left: 0;
        background-color: var(--color-secondary);
        transform-origin: bottom right;
        transition: transform var(--transition);
    }

    a:hover {
        color: var(--color-secondary);
    }

    a:hover::after {
        transform: scaleX(1);
        transform-origin: bottom left;
    }

    a:hover svg {
        color: var(--color-secondary);
    }

    a:focus {
        outline: 0;
    }
</style>